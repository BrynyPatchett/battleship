(()=>{"use strict";class i{hits=0;constructor(i){this.length=i}hit(){this.hits++}isSunk(){return!(this.hits<this.length)}}class t{ships=[];constructor(i){this.grid=new Array(i),this.gridSize=i;for(let t=0;t<i;t++)this.grid[t]=Array(i).fill(0)}AddShipToGrid(t,r,e){if(1===e){if(!1===this.validVerticalInput(r,t))return!1;this.placeShipVertical(r,t,this.ships.length+1)}else{if(!1===this.validHorizontalInput(r,t))return!1;this.placeShipHorizontal(r,t,this.ships.length+1)}return this.ships.push(new i(t)),this.ships[this.ships.length-1],!0}placeShipHorizontal(i,t,r){for(let e=0;e<t;e++)this.grid[i.y][i.x+e]=r}placeShipVertical(i,t,r){for(let e=0;e<t;e++)this.grid[i.y+e][i.x]=r}AllSunk(){for(let i=0;i<this.ships.length;i++)if(!1===this.ships[i].isSunk())return!1;return!0}validHorizontalInput(i,t){for(let r=0;r<t;r++)if(!1===this.validInput(i.y,i.x+r))return!1;return!0}validVerticalInput(i,t){for(let r=0;r<t;r++)if(!1===this.validInput(i.y+r,i.x))return!1;return!0}validInput(i,t){return!(t>=this.gridSize||t<0||i>=this.gridSize||i<0||0!==this.grid[i][t])}validShotInput(i,t){return!(t>=this.gridSize||t<0||i>=this.gridSize||i<0||-1===this.grid[i][t])}ReceiveAttack(i){if(!this.validShotInput(i.y,i.x))throw new Error("Invalid Input");return 0===this.grid[i.y][i.x]?(this.grid[i.y][i.x]=-1,0):(this.ships[this.grid[i.y][i.x]-1].hit(),this.grid[i.y][i.x]=-1,1)}}class r{constructor(i,t){this.playerName=i,this.gameBoard=t}MakeMove(i){try{return this.gameBoard.ReceiveAttack(i)}catch{return-1}}}class e extends r{constructor(i,t){super(i,t),this.moves=[]}MakeRandomMove(){let i=this.getRandomInt(this.gameBoard.grid.length),t=this.getRandomInt(this.gameBoard.grid.length),r=this.getValidShot(i,t);this.MakeMove(r)}getRandomInt(i){return Math.floor(Math.random()*i)}getValidShot(i,t){let r=t,e=i;if(-1!==this.gameBoard.grid[r][e])return{x:e,y:r};for(let i=t;i<this.gameBoard.grid.length+1;i++){i===this.gameBoard.grid.length&&(i=0);for(let t=0;t<this.gameBoard.grid.length;t++)if(-1!==this.gameBoard.grid[i][t])return{x:t,y:i}}}}let h=0,s=0;for(let i=0;i<100;i++){let i=0,r=new t(10),d=new t(10),o=2,n={x:0,y:0};r.AddShipToGrid(o,n,0),d.AddShipToGrid(o,n,0),o=3,n={x:6,y:4},r.AddShipToGrid(o,n,1),d.AddShipToGrid(o,n,1),o=3,n={x:6,y:7},r.AddShipToGrid(o,n,1),d.AddShipToGrid(o,n,1),o=4,n={x:0,y:3},r.AddShipToGrid(o,n,0),d.AddShipToGrid(o,n,1),o=5,n={x:0,y:9},r.AddShipToGrid(o,n,0),d.AddShipToGrid(o,n,1);let a=new e("Computer",d),l=new e("Computer2",r);for(;!0!==a.gameBoard.AllSunk()&&!0!==l.gameBoard.AllSunk();){if(l.MakeRandomMove(),l.gameBoard.AllSunk()){console.log("Computer2 Wins"),s++;break}if(a.MakeRandomMove(),a.gameBoard.AllSunk()){console.log("Computer Wins"),h++;break}i++}}console.log(`Computer Wins: ${h}, Computer2 Wins: ${s}`)})();